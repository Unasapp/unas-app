<md-toolbar class='main-toolbar'>

  <div class='ionic-button'>
    <a md-icon-button (click)="sidenav.toggle()">
        <i class='ion-navicon icon-size'></i>
      </a>
    <!-- <a (click)='ifopen=!ifopen' *ngIf='!ifopen' md-icon-button (click)="sidenav.toggle()">
        <i style='font-size:32px;' class='ion-close-round icon-size'></i>
      </a> -->
  </div>

  <div class='rest'>
    <h2> Reports </h2>
  </div>

  <div>
    <button md-icon-button (click)='openCashDialog()'>
        <i class='ion-pricetag icon-size' ></i>
      </button>
  </div>
  <div>
    <button md-icon-button (click)='openApptDialog()'>
        <i class='ion-calendar icon-size' ></i>
      </button>
  </div>

</md-toolbar>

<md-sidenav-container class="big-container">

  <md-sidenav #sidenav mode="push" class="sidenav-inner">
    <md-list>
      <!-- <md-list-item (click)="sidenav.close()" style='margin-left:70%;font-size:20px;' >
        <i class='ion-close-round'></i>
      </md-list-item> -->
      <md-list-item *ngIf='profType' routerLink='/home' class='sidenav-items'> Home </md-list-item>
      <md-list-item routerLink='/cal' class='sidenav-items'> Calendar </md-list-item>
      <md-list-item routerLink='/contacts' class='sidenav-items'> Contacts </md-list-item>
      <md-list-item *ngIf='profType' routerLink='/products' class='sidenav-items'> Products </md-list-item>
      <md-list-item *ngIf='profType' routerLink='/reports' class='sidenav-items'> Reports </md-list-item>
      <md-list-item *ngIf='profType' routerLink='/notifications' class='sidenav-items'> Notifications </md-list-item>
      <md-list-item *ngIf='profType' routerLink='/settings' class='sidenav-items'> Settings </md-list-item>
      <md-list-item (click)="logout()" class='sidenav-items'> Logout </md-list-item>
    </md-list>
  </md-sidenav>


  <md-tab-group>

    <md-tab label="Transcations">

      <div class='edit-reports-header' >
        <button *ngIf='!pastD' (click)='getReports("past")' md-button class='pastDays-btn' > Reports From Past 7 Days </button>
        <button *ngIf='pastD'  (click)='getReports("today")' md-button class='pastDays-btn' > Reports From Today </button>
        <span *ngIf='editing' class='edit-repots-text' >
          <span class='ion-edit' ></span>
          Editing </span>
        <button *ngIf='!editing' (click)='editing = !editing' md-button class='edit-reports-btn' > <span class='ion-wrench' ></span> Edit Reports </button>
        <button *ngIf='editing' (click)='editing = !editing' md-button class='edit-reports-btn2' > Stop Editing Reports </button>
      </div>
      <md-list>
        <div *ngIf='!editing' class='reports-box'>
          <md-list-item>
            <div class='view-reports-head'>
              <div class='box-reports-head'> Appt Date </div>
              <div class='box-reports-head'> Barber </div>
              <div class='box-reports-head'> Client </div>
              <div class='box-reports-head'> Service </div>
              <div class='box-reports-head'> Price </div>
              <div class='box-reports-head'> Tip </div>
              <div class='box-reports-head'> Pymt Method </div>
              <div style='border: none;' class='box-reports-head'> Amount Paid </div>
            </div>
          </md-list-item>
          <md-list-item  *ngFor='let x of report'>
            <div class='view-reports'>
              <p class='box-reports'> {{x.start_time }} </p>
              <p class='box-reports'> {{ x.b_first }} {{ x.b_last }} </p>
              <p class='box-reports'> {{ x.c_first }} {{ x.c_last }} </p>
              <p class='box-reports'> {{ x.service }} </p>
              <p class='box-reports'> {{ x.price }} </p>
              <p class='box-reports'> {{ x.tip }} </p>
              <p class='box-reports'> {{ x.pay_mth}} </p>
              <p class='box-reports'> {{ x.total }} </p>
            </div>
          </md-list-item>
      </div>

      <div *ngIf='editing'  class='reports-box'>
          <md-list-item>
            <div class='view-reports-head'>
              <div class='box-reports-head'> Appt Date </div>
              <div class='box-reports-head'> Barber </div>
              <div class='box-reports-head'> Client </div>
              <div class='box-reports-head'> Service </div>
              <div class='box-reports-head'> Price </div>
              <div class='box-reports-head'> Tip </div>
              <div class='box-reports-head'> Pymt Method </div>
              <div class='box-reports-head'> Amount Paid </div>
              <div style='border: none;' class='box-reports-head'> Save/Delete </div>
            </div>
          </md-list-item>
          <md-list-item  *ngFor='let x of report; let i = index; trackBy:trackByIndex'>
            <div class='view-reports'>
              <p style='font-size: 13px;' class='box-reports'> {{ report[i].start_time }} </p>

              <p class='box-reports' >
                  {{report[i].b_first}} {{report[i].b_last}}
              </p>
              <p class='box-reports' >
                  {{report[i].c_first}} {{report[i].c_last}}
              </p>
              <p class='box-reports' >
                  {{ report[i].service }}
              </p>
              <p class='box-reports' >
                  {{ report[i].price }}
              </p>
              <md-input-container class='box-reports2' >
                  <input style='text-align:center;padding:0;' mdInput [(ngModel)]='report[i].tip'   />
              </md-input-container>
              <md-input-container class='box-reports2' >
                  <input style='text-align:center;padding:0;' mdInput [(ngModel)]='report[i].pay_mth'  />
              </md-input-container>
              <md-input-container class='box-reports2' >
                  <input style='text-align:center;padding:0;' mdInput [(ngModel)]='report[i].total'   />
              </md-input-container>
              <div class='edit-reports-list-btns' >
                <button (click)='saveEdit(report[i])' md-icon-button >
                  <span style='color:green;' class='reports-edit-btn-SD ion-checkmark-round' ></span>
                </button>
                <button (click)='deleteEdit(report[i])' md-icon-button >
                  <span style='color:#ff4d4d;' class='reports-edit-btn-SD ion-close-round' ></span>
                </button>
              </div>
            </div>
          </md-list-item>
        </div>
      </md-list>

    </md-tab>


    <md-tab label="Time Cards">

        <div class='edit-reports-header' >
            <button *ngIf='!pastT' (click)='getTimeCards("past")' md-button class='pastDays-btn' > Reports From Past 7 Days </button>
            <button *ngIf='pastT'  (click)='getTimeCards("today")' md-button class='pastDays-btn' > Reports From Today </button>
            <span *ngIf='editingT' class='edit-repots-text' >
              <span class='ion-edit' ></span>
              Editing </span>
            <button *ngIf='!editingT' (click)='editingT = !editingT' md-button class='edit-reports-btn' > <span class='ion-wrench' ></span> Edit Reports </button>
            <button *ngIf='editingT' (click)='editingT = !editingT' md-button class='edit-reports-btn2' > Stop Editing Reports </button>
          </div>

      <md-list>
        <div  *ngIf='!editingT' class='reports-box'>
          <md-list-item>
            <div class='view-reports-head'>
              <div class='box-reports-head'> Barber </div>
              <div class='box-reports-head'> Clock-in </div>
              <div style='border: none;' class='box-reports-head'> Clock-out </div>
            </div>
          </md-list-item>

          <md-list-item  *ngFor='let y of timecards'>
            <div class='view-reports' id ="myId" #myId>
              <p class='box-reports'> {{ y.b_first }} {{ y.b_last }} </p>
              <p class='box-reports'> {{ y.time_in }} </p>
              <p class='box-reports'> {{ y.time_out }} </p>
            </div>
          </md-list-item>
        </div>


        <div *ngIf='editingT' class='reports-box'>
            <md-list-item>
              <div class='view-reports-head'>
                <div class='box-reports-head'> Barber </div>
                <div class='box-reports-head'> Clock-in </div>
                <div class='box-reports-head'> Clock-out </div>
                <div style='border: none;' class='box-reports-head'> Save/Delete </div>
              </div>
            </md-list-item>

          <md-list-item *ngFor='let y of timecards; let i = index; trackBy:trackByIndex' >
            <div class='view-reports' id ="myId" #myId>
              <p class='box-reports'> {{ timecards[i].b_first }} {{ timecards[i].b_last }} </p>
              <md-input-container class='box-reports3' >
                  <input style='text-align:center;padding:0;' mdInput [(ngModel)]='timecards[i].time_in'   />
              </md-input-container>
              <md-input-container class='box-reports3' >
                  <input style='text-align:center;padding:0;' mdInput [(ngModel)]='timecards[i].time_out'   />
              </md-input-container>
              <div class='edit-reports-list-btns' >
                <button (click)='timesaveEdit(timecards[i])'  md-icon-button >
                  <span style='color:green;' class='reports-edit-btn-SD ion-checkmark-round' ></span>
                </button>
                <button (click)='timedeleteEdit(timecards[i])'  md-icon-button >
                  <span style='color:#ff4d4d;' class='reports-edit-btn-SD ion-close-round' ></span>
                </button>
              </div>
            </div>
          </md-list-item>

        </div>
      </md-list>
    </md-tab>

    <md-tab label="Barber Earnings">
      <div class='report-head-earn'>
        <div> {{ todaysdateDisplay }} </div>
      </div>

      <div class='barber-cards' >
        <md-card class='barber-card-earn'  *ngFor='let e of barearnings' >
            <md-card-title>
              {{ e.name }}
            </md-card-title>
            <md-card-content>
              <section class='barber-cards-content' >
                <div class='barber-cards-left' >
                    <div>Pay Type: </div>
                    <div>Shop Comission: </div>
                    <div>Barber Comission: </div>
                    <div>Tips: </div>
                </div>
                <div class='barber-cards-right' >
                    <div> {{ e.payT }} </div>
                    <div> {{ e.shopE }} </div>
                    <div> {{ e.barberE }} </div>
                    <div> {{ e.tips  }} </div>
                </div>
            </section>
            </md-card-content>
        </md-card>
      </div>

    </md-tab>

    <md-tab label="Product">
        <div class='edit-reports-header' >
            <button *ngIf='!pastT' (click)='getTimeCards("past")' md-button class='pastDays-btn' > Reports From Past 7 Days </button>
            <button *ngIf='pastT'  (click)='getTimeCards("today")' md-button class='pastDays-btn' > Reports From Today </button>
            <span *ngIf='editingT' class='edit-repots-text' >
              <span class='ion-edit' ></span>
              Editing </span>
            <button *ngIf='!editingT' (click)='editingT = !editingT' md-button class='edit-reports-btn' > <span class='ion-wrench' ></span> Edit Reports </button>
            <button *ngIf='editingT' (click)='editingT = !editingT' md-button class='edit-reports-btn2' > Stop Editing Reports </button>
          </div>
      <md-list>
        <div class='reports-box'>
          <md-list-item>
            <div class='view-reports-head'>
              <div class='box-reports-head'> Name </div>
              <div class='box-reports-head'> Type </div>
              <div class='box-reports-head'> In Stock </div>
              <div class='box-reports-head'> # Sold </div>
              <div class='box-reports-head'> Cost Per </div>
              <div class='box-reports-head'> Net Sales </div>
              <div style='border: none;' class='box-reports-head'> Last Sold </div>
            </div>
          </md-list-item>

          <md-list-item *ngFor='let x of products'>
            <div class='view-reports'>
              <p class='box-reports'> {{ x.name }} </p>
              <p class='box-reports'> {{ x.type }} </p>
              <p class='box-reports'> 12 </p>
              <p class='box-reports'> 32 </p>
              <p class='box-reports'> {{ x.cost | currency:'USD':true }} </p>
              <p class='box-reports'> $40 </p>
              <p class='box-reports'> 8-16-2017 </p>
            </div>
          </md-list-item>
        </div>
      </md-list>
    </md-tab>
  </md-tab-group>





</md-sidenav-container>
